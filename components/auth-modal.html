<div id="authModal" class="auth-modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="auth-modal__dialog" role="document">
    <button type="button" class="auth-modal__close" id="closeModal" aria-label="Close authentication dialog">
      <span aria-hidden="true">&times;</span>
    </button>

    <div class="auth-modal__panel" id="loginFormContainer">
      <h2 class="auth-modal__title">Welcome back</h2>
      <p class="auth-modal__subtitle">Sign in to see favourites, recents, and personalised alerts.</p>
      <form id="loginForm" class="auth-modal__form" autocomplete="off">
        <label class="auth-modal__field" for="loginEmail">
          <span>Email</span>
          <input type="email" id="loginEmail" name="loginEmail" required autocomplete="username" />
        </label>
        <label class="auth-modal__field" for="loginPassword">
          <span>Password</span>
          <input type="password" id="loginPassword" name="loginPassword" required autocomplete="current-password" />
        </label>
        <button type="submit" class="auth-modal__primary">Log in</button>
        <button type="button" class="auth-modal__provider google-btn google-login">Continue with Google</button>
        <div class="auth-modal__error" id="loginError" role="alert" hidden></div>
      </form>
      <p class="auth-modal__links">
        <a href="#" id="showReset" class="auth-modal__link">Forgot password?</a>
      </p>
      <p class="auth-modal__switch">
        Don't have an account?
        <a href="#" id="showSignup" class="auth-modal__link">Create one</a>
      </p>
      <p class="auth-modal__switch">
        Managing the platform?
        <a href="#" id="showAdminLogin" class="auth-modal__link">Administrator sign-in</a>
      </p>
    </div>

    <div class="auth-modal__panel" id="signupFormContainer" hidden>
      <h2 class="auth-modal__title">Join RouteFlow London</h2>
      <p class="auth-modal__subtitle">Create an account to sync favourites and preferences everywhere.</p>
      <form id="signupForm" class="auth-modal__form" autocomplete="off">
        <label class="auth-modal__field" for="signupEmail">
          <span>Email</span>
          <input type="email" id="signupEmail" name="signupEmail" required autocomplete="username" />
        </label>
        <label class="auth-modal__field" for="signupPassword">
          <span>Password</span>
          <input type="password" id="signupPassword" name="signupPassword" required autocomplete="new-password" />
        </label>
        <button type="submit" class="auth-modal__primary">Sign up</button>
        <button type="button" class="auth-modal__provider google-btn google-login">Sign up with Google</button>
        <div class="auth-modal__error" id="signupError" role="alert" hidden></div>
      </form>
      <p class="auth-modal__switch">
        Already have an account?
        <a href="#" id="showLogin" class="auth-modal__link">Log in</a>
      </p>
      <p class="auth-modal__switch">
        RouteFlow staff?
        <a href="#" id="showAdminFromSignup" class="auth-modal__link">Use the admin console</a>
      </p>
    </div>

    <div class="auth-modal__panel" id="resetFormContainer" hidden>
      <h2 class="auth-modal__title">Reset password</h2>
      <p class="auth-modal__subtitle">We'll email you a link to set a new password.</p>
      <form id="resetForm" class="auth-modal__form" autocomplete="off">
        <label class="auth-modal__field" for="resetEmail">
          <span>Email</span>
          <input type="email" id="resetEmail" name="resetEmail" required autocomplete="email" />
        </label>
        <button type="submit" class="auth-modal__primary">Send reset link</button>
        <div class="auth-modal__message" id="resetSuccess" role="status" hidden></div>
        <div class="auth-modal__error" id="resetError" role="alert" hidden></div>
      </form>
      <p class="auth-modal__switch">
        Remembered your password?
        <a href="#" id="showLoginFromReset" class="auth-modal__link">Back to log in</a>
      </p>
    </div>

    <div class="auth-modal__panel" id="adminFormContainer" hidden>
      <h2 class="auth-modal__title">Administrator access</h2>
      <p class="auth-modal__subtitle">Sign in with a RouteFlow London admin account to manage the network.</p>
      <form id="adminLoginForm" class="auth-modal__form" autocomplete="off">
        <label class="auth-modal__field" for="adminEmail">
          <span>Admin email</span>
          <input type="email" id="adminEmail" name="adminEmail" required autocomplete="username" />
        </label>
        <label class="auth-modal__field" for="adminPassword">
          <span>Password</span>
          <input type="password" id="adminPassword" name="adminPassword" required autocomplete="current-password" />
        </label>
        <button type="submit" class="auth-modal__primary">Enter admin console</button>
        <div class="auth-modal__error" id="adminLoginError" role="alert" hidden></div>
      </form>
      <p class="auth-modal__switch">
        Need a different sign-in?
        <a href="#" id="showLoginFromAdmin" class="auth-modal__link">Back to regular login</a>
      </p>
    </div>
  </div>
</div>
